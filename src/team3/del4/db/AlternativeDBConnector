
//import javax.swing.*;
import java.sql.*;
import java.util.Properties;
//driverClass=com.mysql.cj.jdbc.Driver
//dbUrl=jdbc:mysql://localhost/ser322nflstats
//user=ser322team3
//password=ser322team3

public class DBConnector {

    static final Properties dbProps = new Properties();
    static final String pas = "password";
    static final String ur = "jdbc:mysql://localhost/ser322nflstats";
    static final String us = "root";
    static final String drive = "com.mysql.cj.jdbc.Driver";

    static {
        /*  // load connection info
        try {
            FileReader read = new FileReader("C:\\Users\\Socce\\Documents\\NetBeansProjects\\group3_del4\\src\\db\\db.properties");
            dbProps.load(read);
            drive = dbProps.getProperty("driverClass");
            us = dbProps.getProperty("user");
            pas = dbProps.getProperty("password");
            ur = dbProps.getProperty("dbUrl");

        } catch (Exception ex) {
            String message = "FATAL: Failed to load db.properties; can't connect to database.";
            ex.printStackTrace(System.err);
            SwingUtilities.invokeLater(() -> JOptionPane.showMessageDialog(null, message, "Error",
                    JOptionPane.ERROR_MESSAGE));
        }
         */
        // load driver
        try {

            Class.forName(drive);

        } catch (ClassNotFoundException ex) {
            String message = "FATAL: Could not load driver class: ";//+ dbProps.getProperty("driverClass");
            ex.printStackTrace(System.err);
        }
    }

// prevent direct instantiation of this class
    protected DBConnector() {
    }

    public Connection getConnection() throws SQLException {

        return DriverManager.getConnection(ur, us, pas);
    }

    public Statement getStatement() throws SQLException {
        return getConnection().createStatement();
    }

    public PreparedStatement prepareStatement(String sql) throws SQLException {
        return getConnection().prepareStatement(sql);
    }
}
